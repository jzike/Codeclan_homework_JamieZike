library(tidyverse)
housing_prices <- read_csv("data/housing_prices.csv")
housing_prices %>% head()
housing_prices %>% summary()
library(GGally)
?ggpairs
ggpairs(housing_prices)
ggpairs(housing_prices, columns = total_rooms:total_bedrooms)
ggpairs(housing_prices, columns = 4:5)
housing_prices <- housing_prices %>%
select(-total_bedrooms)
View(housing_prices)
ggpairs(housing_prices)
#longitude and median house value
housing_prices %>%
ggplot(aes(x = latitude,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
housing_prices %>% summarise(cor(latitude, median_house_value))
#longitude and median house value
housing_prices %>%
ggplot(aes(x = longitude,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#housing_median_age and median house value
housing_prices %>%
ggplot(aes(x = housing_median_age,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#total rooms and median house value
housing_prices %>%
ggplot(aes(x = total_rooms,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#total rooms and median house value
housing_prices %>%
ggplot(aes(x = total_rooms,
y = median_house_value)) +
geom_point()+
scale_x_log10()+
geom_smooth(method = "lm", se = FALSE)
#total rooms and median house value
housing_prices %>%
ggplot(aes(x = total_rooms,
y = median_house_value)) +
geom_point()+
scale_x_sqrt()+
geom_smooth(method = "lm", se = FALSE)
#households and median house value
housing_prices %>%
ggplot(aes(x = households,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#households and median house value
housing_prices %>%
ggplot(aes(x = households,
y = median_house_value)) +
geom_point()+
scale_x_sqrt() +
geom_smooth(method = "lm", se = FALSE)
#median_income and median house value
housing_prices %>%
ggplot(aes(x = median_income,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
housing_prices %>%
distinct(ocean_proximity)
library(ggfo)
library(ggfortify)
model_income_value <- lm(median_house_value ~ median_income, housing_prices)
autoplot(model_income_value)
summary(model_income_value)
library(fastDummies)
housing_dummies <- housing_prices %>%
fastDummies::dummy_cols(
select_columns = "ocean_proximity",
remove_first_dummy = TRUE,
remove_selected_columns = TRUE
)
View(housing_dummies)
housing_dummies <- housing_prices %>%
fastDummies::dummy_cols(
select_columns = "ocean_proximity",
remove_first_dummy = TRUE,
remove_selected_columns = TRUE
) %>% janitor::clean_names()
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_prices %>%
distinct(ocean_proximity) %>%
count()
housing_prices %>%
group_by(ocean_proximity) %>%
summarise(number = nrow())
housing_prices %>%
group_by(ocean_proximity) %>%
summarise(number = n())
housing_dummies <- housing_prices %>%
fastDummies::dummy_cols(
select_columns = "ocean_proximity",
remove_first_dummy = TRUE,
remove_selected_columns = TRUE
) %>% janitor::clean_names() %>%
mutate(across(ocean_proximity_inland : ocean_proximity_near_ocean, as.logical))
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>%
ggplot(aes(ocean_proximity_near_ocean, median_house_value))+
geom_boxplot()
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>% summarise(cor = cor(ocean_proximity_near_bay, median_house_value))
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>% summarise(cor = cor(ocean_proximity_near_ocean, median_house_value))
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>% summarise(cor = cor(ocean_proximity_near_bay, median_house_value))
model_income_bay <- lm(median_house_value ~
median_income + ocean_proximity_near_bay,
housing_dummies)
autoplot(model_income_bay)
summary(model_income_bay)
#check diagnostics
autoplot(model_income_bay)# remember to ask about this, looks like there is a downward trend in the first plot.
library(tidyverse)
library(GGally)
library(ggfortify)
library(fastDummies)
housing_prices <- read_csv("data/housing_prices.csv")
housing_prices %>% head()
housing_prices %>% summary()
housing_features <- housing_prices %>%
mutate(rooms_per_house = total_rooms / households,
bedrooms_per_house = total_bedrooms / households,
rooms_per_person = total_rooms / population,
bedrooms_per_person = total_bedrooms / population,
houses_per_person = households / population,
prop_bedrooms = total_bedrooms / total_rooms)
housing_features %>%
select(rooms_per_house:prop_bedrooms) %>%
skim()
housing_features %>%
select(rooms_per_house:prop_bedrooms) %>%
skimr::skim()
housing_features %>%
select(-c(longitude, latitidue,
rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% #rearranging order so variable of interest is at the beginning
ggpairs()
housing_features %>%
select(-c(longitude, latitude,
rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% #rearranging order so variable of interest is at the beginning
ggpairs()
ggsave("ggpairs1.png")
ggpairs(housing_prices)
ggsave("ggpairs1.png",
width = 10,
height = 10)
ggpairs(housing_prices, progress = FALSE)
housing_features %>%
select(-c(longitude, latitude,
rooms_per_house:prop_bedrooms)) %>%
select(median_house_value, everything()) %>% #rearranging order so variable of interest is at the beginning
ggpairs(progress = FALSE)
housing_features %>%
select(median_house_value, rooms_per_house:prop_bedrooms)) %>%
housing_features %>%
select(median_house_value, rooms_per_house:prop_bedrooms) %>%
#select(median_house_value, everything()) %>% #rearranging order so variable of interest is at the beginning
ggpairs(progress = FALSE)
housing_features %>%
count(ocean_proximity)
# group into two category variable
housing_features <- housing_features %>%
mutate(ocean_prox_group = if_else(ocean_proximity == "INLAND",
"Inland",
"Near Water"))
housing_features %>%
count(ocean_prox_group)
housing_features %>%
select(median_house_value, rooms_per_house:prop_bedrooms) %>%
#select(median_house_value, everything()) %>% #rearranging order so variable of interest is at the beginning
ggpairs(aes(fill = ocean_prox_group),progress = FALSE)
housing_features %>%
select(median_house_value, ocean_prox_group, rooms_per_house:prop_bedrooms) %>%
#select(median_house_value, everything()) %>% #rearranging order so variable of interest is at the beginning
ggpairs(aes(fill = ocean_prox_group),progress = FALSE)
ggsave("ggpairs3.png",
width = 12,
height = 10)
View(housing_features)
#model using multiple linear regression
model_income_bay <- lm(median_house_value ~
median_income + ocean_prox_group,
housing_features)
#check diagnostics
autoplot(model_income_bay)# remember to ask about this, looks like there is a downward trend in the first plot.
summary(model_income_bay)
