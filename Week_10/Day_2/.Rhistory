library(tidyverse)
housing_prices <- read_csv("data/housing_prices.csv")
housing_prices %>% head()
housing_prices %>% summary()
library(GGally)
?ggpairs
ggpairs(housing_prices)
ggpairs(housing_prices, columns = total_rooms:total_bedrooms)
ggpairs(housing_prices, columns = 4:5)
housing_prices <- housing_prices %>%
select(-total_bedrooms)
View(housing_prices)
ggpairs(housing_prices)
#longitude and median house value
housing_prices %>%
ggplot(aes(x = latitude,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
housing_prices %>% summarise(cor(latitude, median_house_value))
#longitude and median house value
housing_prices %>%
ggplot(aes(x = longitude,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#housing_median_age and median house value
housing_prices %>%
ggplot(aes(x = housing_median_age,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#total rooms and median house value
housing_prices %>%
ggplot(aes(x = total_rooms,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#total rooms and median house value
housing_prices %>%
ggplot(aes(x = total_rooms,
y = median_house_value)) +
geom_point()+
scale_x_log10()+
geom_smooth(method = "lm", se = FALSE)
#total rooms and median house value
housing_prices %>%
ggplot(aes(x = total_rooms,
y = median_house_value)) +
geom_point()+
scale_x_sqrt()+
geom_smooth(method = "lm", se = FALSE)
#households and median house value
housing_prices %>%
ggplot(aes(x = households,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
#households and median house value
housing_prices %>%
ggplot(aes(x = households,
y = median_house_value)) +
geom_point()+
scale_x_sqrt() +
geom_smooth(method = "lm", se = FALSE)
#median_income and median house value
housing_prices %>%
ggplot(aes(x = median_income,
y = median_house_value)) +
geom_point()+
geom_smooth(method = "lm", se = FALSE)
housing_prices %>%
distinct(ocean_proximity)
library(ggfo)
library(ggfortify)
model_income_value <- lm(median_house_value ~ median_income, housing_prices)
autoplot(model_income_value)
summary(model_income_value)
library(fastDummies)
housing_dummies <- housing_prices %>%
fastDummies::dummy_cols(
select_columns = "ocean_proximity",
remove_first_dummy = TRUE,
remove_selected_columns = TRUE
)
View(housing_dummies)
housing_dummies <- housing_prices %>%
fastDummies::dummy_cols(
select_columns = "ocean_proximity",
remove_first_dummy = TRUE,
remove_selected_columns = TRUE
) %>% janitor::clean_names()
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_prices %>%
distinct(ocean_proximity) %>%
count()
housing_prices %>%
group_by(ocean_proximity) %>%
summarise(number = nrow())
housing_prices %>%
group_by(ocean_proximity) %>%
summarise(number = n())
housing_dummies <- housing_prices %>%
fastDummies::dummy_cols(
select_columns = "ocean_proximity",
remove_first_dummy = TRUE,
remove_selected_columns = TRUE
) %>% janitor::clean_names() %>%
mutate(across(ocean_proximity_inland : ocean_proximity_near_ocean, as.logical))
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>%
ggplot(aes(ocean_proximity_near_ocean, median_house_value))+
geom_boxplot()
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>% summarise(cor = cor(ocean_proximity_near_bay, median_house_value))
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>% summarise(cor = cor(ocean_proximity_near_ocean, median_house_value))
housing_dummies %>%
ggplot(aes(ocean_proximity_near_bay, median_house_value))+
geom_boxplot()
housing_dummies %>% summarise(cor = cor(ocean_proximity_near_bay, median_house_value))
model_income_bay <- lm(median_house_value ~
median_income + ocean_proximity_near_bay,
housing_dummies)
autoplot(model_income_bay)
summary(model_income_bay)
#check diagnostics
autoplot(model_income_bay)# remember to ask about this, looks like there is a downward trend in the first plot.
